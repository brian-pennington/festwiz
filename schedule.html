<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fest Wizard · Schedule</title>
  <link rel="stylesheet" href="style.css">
  <link rel="manifest" href="/manifest.json">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "6c13bdfa249e4578bdf3615d141e1786"}'></script><!-- End Cloudflare Web Analytics -->
</head>
<body>

  <header class="sched-header">
    <div class="header__brand">
      <div class="header__title" id="btn-about"><svg class="site-logo" viewBox="0 0 139 36" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M118.82 19.5V16.25H122.07V19.5H118.82ZM131.82 29.25H135.07V32.5H131.82H128.57H125.32H122.07H118.82V29.25H122.07V26H125.32V22.75V19.5H128.57V16.25H125.32H122.07V13H125.32H128.57H131.82H135.07V16.25V19.5H131.82V22.75V26H128.57V29.25H131.82ZM135.07 29.25V26H138.32V29.25H135.07Z" fill="#BB124D"/><path d="M112.32 32.5H109.07V29.25H105.82V26V22.75V19.5V16.25H109.07V13H112.32V16.25V19.5V22.75V26V29.25H115.57V32.5H112.32ZM109.07 13H105.82V9.75V6.5H109.07V3.25H112.32V6.5V9.75H109.07V13Z" fill="#BB124D"/><path d="M92.82 32.5H89.57V29.25H86.32V32.5H83.07H79.82V29.25H76.57V26V22.75V19.5V16.25V13V9.75V6.5H73.32V3.25H76.57H79.82V0H83.07V3.25V6.5V9.75V13V16.25V19.5V22.75V26V29.25H86.32V26V22.75V19.5V16.25V13V9.75V6.5V3.25H89.57V0H92.82V3.25V6.5V9.75V13V16.25V19.5V22.75V26V29.25H96.07V32.5H92.82ZM96.07 29.25V26V22.75V19.5V16.25V13V9.75V6.5V3.25H99.32V0H102.57V3.25V6.5V9.75V13V16.25V19.5V22.75V26H99.32V29.25H96.07Z" fill="#BB124D"/><path d="M66.82 32.5H63.57V29.25H60.32V26V22.75V19.5V16.25H57.07V13H60.32V9.75V6.5V3.25H63.57V0H66.82V3.25V6.5V9.75V13H70.07V16.25H66.82V19.5V22.75V26V29.25H70.07V32.5H66.82Z" fill="#BB124D"/><path d="M47.32 32.5H44.07H40.82V29.25H44.07H47.32V26H44.07V22.75H40.82V19.5H37.57V16.25H40.82V13H44.07H47.32H50.57V16.25V19.5H47.32V16.25H44.07V19.5H47.32V22.75H50.57H53.82V26V29.25H50.57V32.5H47.32ZM40.82 29.25H37.57V26H40.82V29.25Z" fill="#BB124D"/><path d="M27.82 29.25H31.07V32.5H27.82H24.57H21.32V29.25H18.07V26V22.75V19.5H21.32V16.25H24.57V19.5V22.75H27.82V26H24.57V29.25H27.82ZM31.07 29.25V26H34.32V29.25H31.07ZM27.82 22.75V19.5V16.25H24.57V13H27.82H31.07H34.32V16.25V19.5H31.07V22.75H27.82Z" fill="#BB124D"/><path d="M3.25 35.75V32.5V29.25V26V22.75V19.5H0V16.25H3.25V13V9.75V6.5H0V3.25H3.25H6.5H9.75V0H13H16.25V3.25H19.5V6.5V9.75H16.25V6.5H13V9.75H9.75V13H13H16.25V16.25H13V19.5H9.75V22.75V26V29.25V32.5H6.5V35.75H3.25Z" fill="#BB124D"/></svg></div>
      <div class="page-toggle">
        <a href="/" class="page-toggle__half page-toggle__artist" id="sched-back-link">Rate</a>
        <a href="/schedule" class="page-toggle__half page-toggle__schedule active">Schedule</a>
      </div>
    </div>
    <nav class="sched-view-nav" id="sched-view-nav">
      <button class="view-btn" data-view="nownext">Now</button>
      <button class="view-btn active" data-view="grid">Grid</button>
      <button class="view-btn" data-view="timeline">Cloud</button>
    </nav>
    <div class="sched-controls" id="sched-controls">
      <div class="sched-drawer-label">Show</div>
      <div class="theme-toggle-3" id="btn-rated-only">
        <button class="theme-seg" data-filter="all">All</button>
        <button class="theme-seg" data-filter="rated">Rated</button>
        <button class="theme-seg" data-filter="top">3+</button>
      </div>
      <div class="sched-drawer-label">Admission</div>
      <div class="theme-toggle-3" id="btn-admission-filter">
        <button class="theme-seg" data-admission="badge">Badge</button>
        <button class="theme-seg" data-admission="cover">Paid</button>
        <button class="theme-seg" data-admission="free">Free</button>
      </div>
      <div class="sched-drawer-label">Theme</div>
      <div class="theme-toggle-3" id="btn-theme">
        <button class="theme-seg" data-theme="system">Auto</button>
        <button class="theme-seg" data-theme="light">&#9788;</button>
        <button class="theme-seg" data-theme="dark">&#9790;</button>
      </div>
      <button class="view-btn view-btn--manage" data-view="manage">+ Shows</button>
    </div>
    <button class="hamburger-btn" id="hamburger-btn" aria-label="Open menu">
      <span></span><span></span><span></span>
    </button>
  </header>
  <div class="hamburger-backdrop" id="hamburger-backdrop"></div>

  <div class="sched-day-bar" id="sched-day-bar">
    <!-- Day tabs injected by JS -->
  </div>

  <main class="sched-main" id="sched-main">
    <section class="sched-view sched-view--hidden" id="view-nownext"></section>
    <section class="sched-view sched-view--hidden" id="view-timeline"></section>
    <section class="sched-view" id="view-grid">
      <div class="sched-loading">Loading schedule…</div>
    </section>
    <section class="sched-view sched-view--hidden" id="view-manage"></section>
  </main>

  <!-- SHOW DETAIL MODAL -->
  <div class="modal-overlay" id="modal-show-detail">
    <div class="modal sched-detail-modal">
      <div class="sched-detail-artist" id="detail-artist"></div>
      <div class="sched-detail-meta" id="detail-meta"></div>
      <div class="sched-detail-showcase" id="detail-showcase"></div>
      <div class="sched-detail-rating" id="detail-rating"></div>
      <div class="sched-detail-link" id="detail-link"></div>
      <div class="sched-detail-other" id="detail-other-shows"></div>
      <div class="modal__actions">
        <button class="btn" id="btn-close-detail">Close</button>
        <button class="btn btn--danger" id="btn-delete-show" style="display:none">Remove Show</button>
      </div>
    </div>
  </div>

  <!-- ADD SHOW MODAL -->
  <div class="modal-overlay" id="modal-add-show">
    <div class="modal">
      <div class="modal__title">Add Show</div>
      <div class="form-group">
        <label>Artist Name *</label>
        <input type="text" id="add-show-artist" autocomplete="off">
      </div>
      <div class="form-group">
        <label>Venue *</label>
        <input type="text" id="add-show-venue" list="venue-datalist" autocomplete="off">
        <datalist id="venue-datalist"></datalist>
      </div>
      <div class="form-group">
        <label>Day *</label>
        <select id="add-show-day"></select>
      </div>
      <div class="form-group">
        <label id="add-show-start-label">Start Time * (e.g. 9:30 PM or 21:30)</label>
        <input type="text" id="add-show-start" placeholder="9:30 PM">
      </div>
      <div class="form-group">
        <label>End Time (optional)</label>
        <input type="text" id="add-show-end" placeholder="10:15 PM">
      </div>
      <div class="form-group">
        <label class="checkbox-label">
          <input type="checkbox" id="add-show-no-set-time">
          No set time announced — start time above is the event start, used for grid placement only
        </label>
      </div>
      <div class="form-group">
        <label>Showcase / Event Name (optional)</label>
        <input type="text" id="add-show-showcase" placeholder="e.g. Emo Nite Day Party">
      </div>
      <div class="form-group">
        <label>Website URL (optional — shown as link in popup)</label>
        <input type="url" id="add-show-website" placeholder="https://...">
      </div>
      <div class="form-group">
        <label>Admission</label>
        <select id="add-show-admission">
          <option value="free">Free</option>
          <option value="cover">Cover</option>
          <option value="badge">Badge/Wristband</option>
        </select>
      </div>
      <div class="form-group">
        <label>Source</label>
        <select id="add-show-source">
          <option value="user">User-Submitted</option>
          <option value="official">Official</option>
        </select>
      </div>
      <div class="modal__actions">
        <button class="btn" id="btn-cancel-add-show">Cancel</button>
        <button class="btn btn--accent" id="btn-save-add-show">Add Show</button>
      </div>
    </div>
  </div>

  <!-- CSV IMPORT MODAL -->
  <div class="modal-overlay" id="modal-import-csv">
    <div class="modal">
      <div class="modal__title">Import Schedule CSV</div>
      <p class="sched-import-info">
        Export a single day tab from your Google Sheet as CSV
        (File → Download → CSV), then select it here.<br><br>
        <strong>Which day does this CSV represent?</strong>
      </p>
      <div class="form-group">
        <label>Day *</label>
        <select id="import-csv-day"></select>
      </div>
      <div class="form-group">
        <label>CSV File *</label>
        <input type="file" id="import-csv-file" accept=".csv">
      </div>
      <div class="sched-import-preview" id="import-preview"></div>
      <div class="modal__actions">
        <button class="btn" id="btn-cancel-import">Cancel</button>
        <button class="btn btn--accent" id="btn-confirm-import" disabled>Import</button>
      </div>
    </div>
  </div>

  <input type="file" id="csv-file-input" accept=".csv" style="display:none">

  <!-- ABOUT MODAL -->
  <div class="modal-overlay" id="modal-about">
    <div class="modal modal--tutorial">
      <div class="modal__title">About FestWiz</div>
      <div class="tutorial-body">
        <p>I'm Brian. I created FestWiz to help me rate bands coming to Austin and catch as many bands live as I could. Every year for many running I've spent hours and hours poring over which bands I liked and built a big ol online spreadsheet full of every show I can find. This year I decided if I'm going to spending that much time anyway I may as well get something other people can use.</p>
        <p>I want to be up front, I did use an LLM to help me build this app. I am a web developer and in theory I could have done, if not all of this myself, well a bunch of it. But I wouldn't have, as it would have taken me way more time than this did and time is already in short supply. For me this is the perfect kind of project for AI, but I do want to acknowledge there are a LOT of societal problems going on with AI and this is feeding in to it.</p>
        <p>As I am doing this in my free time and I have a job and at least 600 more bands to listen to, I cannot provide reliable tech support, but I'll try to help if something goes wrong.</p>
        <p>I will not be asking for any money for FestWiz despite friends telling me I could. If you want to do something supportive, you could subscribe to the <a href="https://liteandbriteatx.com/" target="_blank">newsletter of offbeat Austin events</a> I produce with my partner, <a href="https://kpiss.fm/show/no-humans-allowed" target="_blank">listen to my radio show</a> on <a href="https://kpiss.fm" target="_blank">Kpiss.fm</a> (the Golden Stream), or tell a friend about this app.</p>
        <p>— Brian</p>
      </div>
      <div class="modal__actions">
        <button class="btn btn--accent" id="btn-close-about">Close</button>
      </div>
    </div>
  </div>

  <script src="schedule.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/service-worker.js');
    }
  </script>
</body>
</html>
